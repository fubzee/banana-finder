var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__assign.apply(this,arguments)},__spreadArrays=this&&this.__spreadArrays||function(){for(var i=0,n=0,r=arguments.length;n<r;n++)i+=arguments[n].length;for(var u=Array(i),f=0,n=0;n<r;n++)for(var e=arguments[n],t=0,o=e.length;t<o;t++,f++)u[f]=e[t];return u},ColPickerBeh,FavRequest;(function(n){n[n.All=0]="All";n[n.Data=1]="Data"})(ColPickerBeh||(ColPickerBeh={})),function(n){function o(n){return"image:cid="+n.cid}function s(n){return"product:cid="+n.cid}function h(n){return"video:mid="+n.mid}function c(n){return"webdoc:url="+(n.url||n.purl)}function l(n){return n.id}function a(n){return"recipe:sid="+(n.sid||n.entityId)}function u(n){var t=n.collectionType,i=n.id,r=n.title;return t?{PredefinedCollection:Constants.PredefinedCollections[t]}:i?{collectionId:i}:{collectionTitle:r}}function v(n,t){return __assign(__assign({},n),{type:t,MediaId:n.mid,MediaUrl:n.murl,PageUrl:n.purl})}function y(n){var t,i,r=[];return n.tid?r.push({ThumbnailId:n.tid,Width:n.tw,Height:n.th}):n.turl&&r.push({ExternalThumbnailUrl:n.turl,Width:n.tw,Height:n.th}),{Id:n.id,ContentId:n.contentId,FriendlyDomainName:n.fdn,Title:n.title,ThumbnailInfo:r,ClickThroughUrl:n.url,ItemTagPath:n.itemtagpath,CustomData:(i=(t=n.customdata)===null||t===void 0?void 0:t.replace(/\\/g,""))!==null&&i!==void 0?i:"null"}}function p(n,t,i,r){return{type:t,collectionItemId:i(n),collection:r}}function w(n,t,i){return{Id:t(n),SourceCollectionId:i.collectionId}}function b(n){n[0]||(n=[n]);var t=n[0],f=r(n,!0);return{CollectionItemType:i,Items:__spreadArrays(f.Items,f.itemReferences),TargetCollection:u(t.specifier||t.Specifier)}}function k(n){var t=r(n);return{CollectionItemType:i,ItemReferences:t.itemReferences,Items:t.Items}}function r(n,t){for(var b,it,rt,ut,k,ft,gt,d,et,ot,g,st,ni,nt,ht,ti,r=[],ct=[],tt=0,lt=n;tt<lt.length;tt++){var i=lt[tt],at=i.images,vt=i.Images,yt=i.videos,pt=i.Videos,wt=i.entities,bt=i.specifier,kt=i.webresults,dt=i.generics,f=bt&&!t?u(bt):null,e=t?v:p,ii=t?y:w;if(at||vt)for(b=0,it=at||vt;b<it.length;b++)rt=it[b],ut=rt.intent==="Shopping",r.push(e(rt,ut?"product":"image",ut?s:o,f));if(yt||pt)for(k=0,ft=yt||pt;k<ft.length;k++)gt=ft[k],r.push(e(gt,"video",h,f));if(wt)for(d=0,et=wt;d<et.length;d++)ot=et[d],ot.intent==="Recipe"&&r.push(e(ot,"recipe",a,f));if(kt)for(g=0,st=kt;g<st.length;g++)ni=st[g],r.push(e(ni,"webdoc",c,f));if(dt)for(nt=0,ht=dt;nt<ht.length;nt++)ti=ht[nt],ct.push(ii(ti,l,f))}return{itemReferences:r,Items:ct}}function d(n){var t=r(n.sources);return{collectionItemType:i,targetCollection:u(n.destination),itemReferences:t.itemReferences,Items:t.Items}}function g(n){for(var s,f=[],e=r(n.sources),t=0,o=n.targets;t<o.length;t++)s=o[t],f.push(u(s));return{collectionItemType:i,targetCollections:f,itemReferences:e.itemReferences,Items:e.Items}}function nt(n){return{collectionItemType:i,targetCollections:[{collectionId:n.id}]}}function tt(n){var t=n.title;return{targetCollection:{collectionTitle:t,collectionTagPath:"/default/"}}}function it(n){return{targetCollection:{collectionId:n.CollectionId},title:n.NewTitle}}function rt(n){return{targetCollection:{collectionId:n.id}}}function ut(n){return{shareId:n.id}}function ft(n){var t=r([n]);return{collectionItemType:i,itemReferences:t.itemReferences,items:t.Items}}function et(n,t,i,r){if(n){n="https://"+location.host+n+t;typeof addCommonPersistedParams=="function"&&(n=addCommonPersistedParams(n));typeof MMTestUtils!="undefined"&&(n=MMTestUtils.atb(n,t),n=MMTestUtils.adl(n));n=lt(n);i=i===null?"":i;var u=sj_gx();u.open("POST",n,!0);u.withCredentials=!0;u.setRequestHeader("Content-type","application/json");u.onreadystatechange=function(){var i,n;u.readyState==4&&u.status==200&&r&&(n=JSON.parse(ot(u.response||u.responseText)),"isSuccess"in n&&t!=="items/status?"?r({IsSuccess:n.isSuccess,Message:((i=n.collection)===null||i===void 0?void 0:i.id)||n.message||n.shareId||null,Status:1}):r(n))};u.send(JSON.stringify(i))}}function ot(n){for(var t=n,r,i;(r=t.indexOf("<!--<![CDATA["))>=0;){if(i=t.indexOf("]\]>-->"),i<0)break;t=t.substr(0,r)+t.substr(i+6)}return t}function t(n,t,i){return i===void 0&&(i=e),function(r,u){et(i,n+"?",t?t(r):r,u)}}function st(){}function ht(){}function ct(){}function lt(n){return typeof sj_cook!="undefined"?n+"&sid="+(_G.SID||sj_cook.get("_SS","SID")):n}var i="all",f="/mysaves/",e=f+"collections/";n.changeTitle=t("rename",it);n.addItem=t("items/add",b);n.deleteItems=t("items/delete",k);n.deleteCollection=t("delete",nt);n.useForRec=st;n.moveItems=t("items/move",d);n.copyItems=t("items/copy",g);n.getStatus=t("items/status",ft);n.writePref=t("writepref",null,f);n.getCollectionPicker=ht;n.shareCollection=t("share",rt);n.unshareCollection=t("unshare",ut);n.createCollection=t("create",tt);n.setRequestType=ct}(FavRequest||(FavRequest={}))